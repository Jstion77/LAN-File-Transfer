# 🚀 “码”上相传：一个轻量级局域网文件传输工具



一个基于 Python (Flask + Waitress) 构建的、轻量级的局域网文件传输工具。它允许你在同一 WiFi (局域网)下的多个设备（电脑、手机、电视）之间，通过浏览器快速、安全地传输文件。

---

### ✨ 主要功能

* **📦 打开即用**：无需复杂安装，Python 脚本/EXE 一键启动。
* **📱 跨平台制霸**：支持任何带有浏览器的设备 (Windows, macOS, Linux, Android, iOS, 智能电视...)。
* **🔗 扫码直连**：PC 端自动生成二维码，手机/电视扫码即达。
* **📂 格式无限制**：支持任意文件类型 (`.mkv`, `.zip`, `.exe`, `.docx`...)。
* **⚡️ 满速传输**：不耗费公网流量，速度跑满你的局域网带宽。
* **👀 状态透明**：实时显示已连接的设备 IP 和文件列表。

---

### 🛠️ 如何从源码运行 (100% 安全透明)

担心 `.exe` 不安全？我们100%理解！
你可以直接运行源代码，每一行都清晰可见，绝对安全。

**1. 准备环境 (Python)**

* 确保你的电脑已安装 Python (推荐 3.7+)。
* (安装时**务必**勾选 `Add Python to PATH`)

**2. 安装依赖库**

* 打开你的命令行 (CMD/PowerShell)，运行：
    ```bash
    pip install flask
    pip install waitress
    pip install qrcode[pil]
    ```

**3. 文件结构**

* 请确保你的文件结构如下：
    ```
    /你的项目文件夹/
    ├── main_server_pro.py   (主程序)
    └── templates/
        └── index_pro.html   (前端页面)
    ```
    *(源代码在下方仓库中已提供)*

**4. 启动！**

* 在命令行中，`cd` 进入你的项目文件夹，然后运行：
    ```bash
    python main_server_pro.py
    ```
* 当你看到如下提示，说明启动成功：
    ```
    ==================================================
     局域网文件传输工具已启动！
     PC端 (本机) 访问: [http://127.0.0.1:5000](http://127.0.0.1:5000)
     手机/电视/其他设备请访问: [http://192.168.](http://192.168.)XX.XX:5000
     (或直接扫描 PC 页面上显示的二维码)
    ==================================================
    ```
* 打开你 PC 端的浏览器访问 `http://127.0.0.1:5000` 即可开始使用！

---

### 📦 (可选) 如何打包成你自己的 .exe

如果你想自用或分发给朋友，可以打包成 `.exe`。

**1. 安装 PyInstaller**
```bash
pip install pyinstaller
```

**2. 执行打包命令**
* 在你的项目文件夹路径下，运行：
    ```bash
    pyinstaller --onefile --add-data "templates;templates" --icon="你的图标.ico" main_server_pro.py
    ```
* `--onefile`: 打包成一个文件。
* `--add-data "templates;templates"`: **(关键)** 把 `templates` 文件夹和 HTML 文件打包进去。
* `--icon="你的图标.ico"`: (可选) 为你的 .exe 指定一个自定义图标。

**3. 找到 .exe**
* 打包完成后，在 `dist` 文件夹里就能找到你的 `main_server_pro.exe`。

---

### 🛡️ 【重要科普】为什么我打包的 .exe 会被杀毒软件误报？

这是一个非常常见的问题！**我们的代码 100% 是安全的**，它被误报，是因为它的“行为模式”和“身份”踩了杀毒软件的红线：

1.  **可疑行为 (解压到Temp)**
    * 当你运行 `pyinstaller --onefile` 打包的 `.exe` 时，它会先把所有依赖（包括Python解释器）解压到系统的**临时文件夹** (`C:\Users\...\Temp\_MEI...`)，然后再运行。
    * 这个“先解压到临时目录再执行”的行为，和很多恶意软件的“释放器”行为**一模一样**。杀毒软件会本能地警觉。

2.  **身份不明 (没有数字签名)**
    * 这个 `.exe` 是你刚刚编译的，没有花钱购买的“代码签名证书”来证明它的“身份”。
    * 一个“身份不明”的程序，在做着“可疑行为”，杀毒软件自然会将其标记为威胁。

3.  **可疑权限 (打开网络端口)**
    * 我们的程序一启动，就会**监听 5000 端口**，以便在局域网内提供服务。
    * 在杀毒软件看来：一个“身份不明”+“行为可疑”的程序，还想“打开网络端口”？这不就是“后门”或“勒索病毒”的特征吗？

**结论：** 你的 `.exe` 是一个“良民”，但它穿着“坏人”的衣服，在“可疑”的街区，做着“可疑”的事。

**✅ 怎么办？**
* **自己用**：100% 放心，直接在杀毒软件中**添加“信任”或“排除项”**。
* **分享给朋友**：让他们**优先使用 Python 源码运行**，这是最透明、最安全的方式。

---

### 📝 许可证 (License)

本项目采用 [MIT 许可证](LICENSE)。